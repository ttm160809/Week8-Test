import{a as i}from"./axios-L6U4YIEh.js";import{_ as h,m as p,r as m,o as f,b as g,d as e,e as a,w as r,t as u,f as c}from"./index-_6wmlSz6.js";import{c as x}from"./cartStore--mzaajoa.js";import"./sweetAlertStore-FjvXzu2r.js";var b={VITE_URL:"https://vue3-course-api.hexschool.io",VITE_NAME:"eatburgertest",BASE_URL:"/Week8-Test/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_URL:d,VITE_NAME:n}=b,y={data(){return{carts:[],form:{user:{name:"",email:"",tel:"",address:""},message:""},coupon:"",order_id:this.$route.params.id}},methods:{...p(x,["getCarts"]),deleteAllCart(){i.delete(`${d}/v2/api/${n}/carts`).then(t=>{console.log(t),this.getCarts()}).catch(t=>{alert(t.response.data.message)})},deleteCart(t){i.delete(`${d}/v2/api/${n}/cart/${t.id}`).then(s=>{console.log(s),this.getCarts()}).catch(s=>{alert(s.response.data.message)})},changeCartQty(t){const s={product_id:t.product_id,qty:t.qty};i.put(`${d}/v2/api/${n}/cart/${t.id}`,{data:s}).then(l=>{console.log(l),this.getCarts()}).catch(l=>{alert(l.response.data.message)})},createOrder(){const t=this.form;i.post(`${d}/v2/api/${n}/order`,{data:t}).then(s=>{this.$refs.form.resetForm(),this.form.message="",this.getCarts(),alert(s.data.message),this.order_id=s.data.orderId,console.log(this.order_id)}).catch(s=>{alert(s.response.data.message),this.$route.push()})},isPhone(t){const s=/^(09)[0-9]{8}$/;return t===""?"電話號碼 為必填":s.test(t)?!0:"請填寫正確的電話號碼"},checkCoupon(){const t={code:this.coupon};i.post(`${d}/v2/api/${n}/coupon`,{data:t}).then(s=>{alert(s.data.message),this.getCarts()}).catch(s=>{this.coupon="",alert(s.response.data.message)})}},mounted(){this.getCarts()}},v={class:"container pt-5"},$={class:"d-flex flex-column d-md-none align-items-center mb-5"},w={class:"border border-secondary bg-secondary w-100 text-center py-2 py-md-4"},C=e("div",{class:"d-flex align-items-center"},[e("i",{class:"bi bi-caret-down-fill col fs-1 text-secondary"})],-1),E={class:"border border-secondary bg-secondary w-100 text-center py-2 py-md-4"},V=e("div",{class:"d-flex align-items-center"},[e("i",{class:"bi bi-caret-down-fill col fs-1 text-secondary"})],-1),N={class:"border border-primary bg-primary w-100 text-center py-2 py-md-4"},T={class:"d-none d-md-flex justify-content-center mb-5"},k={class:"border border-secondary bg-secondary d-flex align-items-center px-7 py-4"},A=e("div",{class:"d-flex align-items-center"},[e("i",{class:"bi bi-caret-right-fill col fs-1 text-secondary"})],-1),I={class:"border border-secondary bg-secondary d-flex align-items-center px-7 py-4"},R=e("div",{class:"d-flex align-items-center"},[e("i",{class:"bi bi-caret-right-fill col fs-1 text-secondary"})],-1),S={class:"border border-primary bg-primary d-flex align-items-center px-7 py-4"},B={class:"row justify-content-center"},D={class:"col-md-10"},L={class:"bg-white p-3"},M={class:"d-flex flex-column align-items-center mb-4"},O=e("i",{class:"bi bi-check-circle-fill fs-8r text-primary"},null,-1),U=e("span",{class:"fs-3 fw-bold text-primary mb-4"},"訂單已成立，感謝您的訂購！",-1),j=e("span",{class:"fs-5"},"您的訂單編號：",-1),q={class:"fs-3 text-change"};function F(t,s,l,P,_,Q){const o=m("sapn");return f(),g("div",v,[e("div",$,[e("div",w,[a(o,{class:"fs-4 text-white"},{default:r(()=>[c("1.確認品項")]),_:1})]),C,e("div",E,[a(o,{class:"fs-4 text-white"},{default:r(()=>[c("2.結帳資訊")]),_:1})]),V,e("div",N,[a(o,{class:"fs-4 text-white"},{default:r(()=>[c("3.訂單成立")]),_:1})])]),e("div",T,[e("div",k,[a(o,{class:"fs-4 text-white"},{default:r(()=>[c("1.確認品項")]),_:1})]),A,e("div",I,[a(o,{class:"fs-4 text-white"},{default:r(()=>[c("2.結帳資訊")]),_:1})]),R,e("div",S,[a(o,{class:"fs-4 text-white"},{default:r(()=>[c("3.訂單成立")]),_:1})])]),e("div",B,[e("div",D,[e("div",L,[e("div",M,[O,U,j,e("span",q,u(_.order_id),1)])])])])])}const J=h(y,[["render",F]]);export{J as default};
