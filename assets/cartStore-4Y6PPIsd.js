import{p as i}from"./index-YvzYcdzE.js";import{a as e}from"./axios-L6U4YIEh.js";import{s as d}from"./sweetAlertStore-oCM12oAM.js";var l={VITE_URL:"https://vue3-course-api.hexschool.io",VITE_NAME:"eatburgertest",BASE_URL:"/Week8-Test/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const a=d(),{VITE_URL:r,VITE_NAME:s}=l,_=i("cartStore",{state:()=>({carts:[],final_total:0,total:0}),actions:{getCarts(){e.get(`${r}/v2/api/${s}/cart`).then(t=>{this.carts=t.data.data.carts,this.final_total=t.data.data.final_total,this.total=t.data.data.total}).catch(()=>{a.swalError()})},addToCart(t,o){const c={product_id:t,qty:Number(o)};e.post(`${r}/v2/api/${s}/cart`,{data:c}).then(()=>{this.getCarts(),a.successToast("カートに入れました")}).catch(()=>{a.errorToast("お手数ですが、もう一度やり直してください")})},deleteAllCart(){e.delete(`${r}/v2/api/${s}/carts`).then(()=>{this.getCarts(),a.successToast("商品が全て削除されました")}).catch(()=>{a.errorToast("お手数ですが、もう一度やり直してください")})},deleteCart(t){e.delete(`${r}/v2/api/${s}/cart/${t.id}`).then(()=>{this.getCarts(),a.successToast("商品が削除されました")}).catch(()=>{a.errorToast("お手数ですが、もう一度やり直してください")})},changeCartQty(t){const o={product_id:t.product_id,qty:t.qty};e.put(`${r}/v2/api/${s}/cart/${t.id}`,{data:o}).then(()=>{this.getCarts()}).catch(()=>{a.errorToast("お手数ですが、もう一度やり直してください")})}}});export{_ as c};
